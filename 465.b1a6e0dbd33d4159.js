"use strict";(self.webpackChunkassignment=self.webpackChunkassignment||[]).push([[465],{8465:(x,d,a)=>{a.r(d),a.d(d,{CartModule:()=>Z});var s=a(6814),l=a(7163),t=a(4769),p=a(7422);let m=(()=>{var e;class n{transform(o){return o.filter(c=>c.count>0)}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275pipe=t.Yjl({name:"filterProduct",type:e,pure:!0}),n})();function C(e,n){if(1&e){const r=t.EpF();t.TgZ(0,"div",9)(1,"div",10),t._UZ(2,"img",11),t.qZA(),t.TgZ(3,"div",12)(4,"div",13)(5,"h4"),t._uU(6),t.qZA(),t.TgZ(7,"p",14),t._uU(8),t.qZA(),t.TgZ(9,"div",15)(10,"p",16),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"button",17),t.NdJ("click",function(){const i=t.CHM(r).$implicit,u=t.oxw(2);return t.KtG(u.deleteItem(i.product.id))}),t._UZ(14,"i",18),t._uU(15," Remove "),t.qZA()()()(),t.TgZ(16,"div",19)(17,"button",20),t.NdJ("click",function(){const i=t.CHM(r).$implicit,u=t.oxw(2);return t.KtG(u.updateCount(i.count-1,i.product.id))}),t._uU(18," - "),t.qZA(),t.TgZ(19,"span",21),t._uU(20),t.qZA(),t.TgZ(21,"button",20),t.NdJ("click",function(){const i=t.CHM(r).$implicit,u=t.oxw(2);return t.KtG(u.updateCount(i.count+1,i.product.id))}),t._uU(22," + "),t.qZA()()()}if(2&e){const r=n.$implicit;t.xp6(2),t.Q6J("src",r.product.imageCover,t.LSH),t.xp6(4),t.Oqu(r.product.title),t.xp6(2),t.hij(" ",r.product.category.name," "),t.xp6(3),t.Oqu(t.lcZ(12,5,r.price)),t.xp6(9),t.Oqu(r.count)}}const _=function(e){return["/checkout/",e]};function g(e,n){if(1&e&&(t.TgZ(0,"div",2),t.YNc(1,C,23,7,"div",3),t.ALo(2,"filterProduct"),t.TgZ(3,"div",4)(4,"h6"),t._uU(5," Number of items: "),t.TgZ(6,"span",5),t._uU(7),t.qZA()(),t.TgZ(8,"h6"),t._uU(9," Total price: "),t.TgZ(10,"span",5),t._uU(11),t.qZA()()(),t.TgZ(12,"div",6)(13,"button",7)(14,"a",8),t._uU(15,"Continue to pay"),t.qZA()()()()),2&e){const r=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,4,r.cartDetails.data.products)),t.xp6(6),t.Oqu(r.cartDetails.numOfCartItems),t.xp6(4),t.Oqu(r.cartDetails.data.totalCartPrice),t.xp6(3),t.Q6J("routerLink",t.VKq(6,_,r.cartDetails.data._id))}}const f=[{path:"",component:(()=>{var e;class n{constructor(o){this._cartService=o,this.cartDetails={}}ngOnInit(){this.getCart()}getCart(){this._cartService.getCart().subscribe({next:o=>{console.log(o),this.cartDetails=o}})}updateCount(o,c){this._cartService.updateProductCount(o,c).subscribe({next:i=>{console.log(i),this.cartDetails=i}})}deleteItem(o){this._cartService.removeProduct(o).subscribe({next:c=>{console.log(c),this.cartDetails=c}})}}return(e=n).\u0275fac=function(o){return new(o||e)(t.Y36(p.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart"]],decls:4,vars:1,consts:[[1,"container","my-5","pt-5"],["class","bg-main-light rounded-3 p-3 cinqFont",4,"ngIf"],[1,"bg-main-light","rounded-3","p-3","cinqFont"],["class","row border-bottom m-1",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","m-4"],[1,"quatreColor"],[1,"d-flex","justify-content-center","m-3"],[1,"btn","bg-main","text-white","check-out"],[3,"routerLink"],[1,"row","border-bottom","m-1"],[1,"col-md-1"],["alt","",1,"w-100",3,"src"],[1,"col-md-9"],[1,"item"],[1,"quatreColor","fw-bold","mb-0"],[1,"d-flex","align-items-center","mb-3"],[1,"fw-bold","mb-0"],[1,"btn","remove",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"col-md-2"],[1,"btn","btn-update",3,"click"],[1,"mx-2"]],template:function(o,c){1&o&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Cart Details:"),t.qZA(),t.YNc(3,g,16,8,"div",1),t.qZA()),2&o&&(t.xp6(3),t.Q6J("ngIf",null==c.cartDetails?null:c.cartDetails.data))},dependencies:[s.sg,s.O5,l.rH,s.H9,m]}),n})()}];let v=(()=>{var e;class n{}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(f),l.Bz]}),n})(),Z=(()=>{var e;class n{}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,v]}),n})()}}]);